
# 注意事项
使用校园网发起请求

# 接口
## image2latex
描述：将表格的图片转换成latex文本

请求：
```
curl -X 'POST' \
  'http://[240c:c983:4::3:1f1e]:8611/api/image2latex' \
  -H 'accept: application/json' \
  -H 'Content-Type: multipart/form-data' \
  -F 'file=@微信截图_20250620132919.png;type=image/png'
```

返回：
```
{
  "text": "\\begin{tabular}{|c|l|r|r|r|r|r|r|} \\multicolumn{8}{c}{} \\\\ \\cline{2-8} & \\multicolumn{1}{c|}{\\multirow{2}{*}{Method}} & \\multicolumn{2}{c|}{Multi-Xscience} & \\multicolumn{2}{c|}{TAD} & \\multicolumn{2}{c|}{TAS2} \\\\ \\cline{3-8} & & ROUGE-1 & ROUGE-2 & ROUGE-1 & ROUGE-2 & ROUGE-1 & ROUGE-2 \\\\ \\hline \\multirow{5}{*}{Graphs} & LexRank (2004) & 30.19 & 5.53 & 27.29 & 3.50 & 27.04 & 3.18 \\\\ \\cline{2-8} & TexRank (2004) & 31.51 & 5.83 & 26.80 & 3.61 & 26.19 & 3.14 \\\\ \\cline{2-8} & HeterSumGraph (2020) & 31.36 & 5.82 & 27.85 & 3.88 & 27.56 & 3.62 \\\\ \\cline{2-8} & GraphSum (2020) & 29.58 & 5.54 & 26.12 & 4.03 & 25.01 & 3.23 \\\\ \\cline{2-8} & TAG (2022) & 33.45 & 7.06 & 30.48 & 6.16 & 28.04 & 4.75 \\\\ \\cline{2-8} & KGSum (2022) & 35.77 & 7.51 & 32.38 & 5.19 & 30.67 & 4.76 \\\\ \\hline \\multirow{9}{*}{PLMs} & Pointer-Generator (2017) & 34.11 & 6.76 & 31.70 & 6.41 & 28.53 & 4.96 \\\\ \\cline{2-8} & BertABS (2019) & 31.56 & 5.02 & 27.42 & 4.88 & 25.45 & 3.82 \\\\ \\cline{2-8} & SciBertABS (2019) & 32.12 & 5.59 & 27.88 & 5.19 & 26.01 & 4.13 \\\\ \\cline{2-8} & HiMAP (2019) & 31.66 & 5.91 & 30.49 & 6.21 & 28.37 & 5.07 \\\\ \\cline{2-8} & BART (2020) & 32.83 & 6.36 & 25.39 & 4.74 & 27.73 & 4.80 \\\\ \\cline{2-8} & MGSum (2020) & 33.11 & 6.75 & 27.49 & 4.79 & 25.54 & 3.75 \\\\ \\cline{2-8} & PRIMERA (2022) & 31.90 & 7.40 & 32.04 & 5.78 & 29.99 & 5.07 \\\\ \\cline{2-8} & GPT-3.5-turbo (2023) & 31.11 & 7.38 & 30.77 & 4.78 & 26.97 & 4.14 \\\\ \\cline{2-8} & GPT-4 (2023) & 33.21 & 7.61 & 32.50 & 4.90 & 30.71 & 4.25 \\\\ \\cline{2-8} & 3A-COT (2024) & 23.65 & 4.85 & 23.02 & 3.73 & 22.65 & 3.43 \\\\ \\cline{2-8} & SumBlogger (2024) & 35.40 & 8.40 & 33.90 & 5.51 & 30.69 & 3.92 \\\\ \\cline{2-8} & Proposed & \\textbf{36.41} & \\textbf{8.78} & \\textbf{34.16} & \\textbf{6.22} & \\textbf{32.31} & \\textbf{5.36} \\\\ \\hline \\end{tabular}",
  "image": "/images/bd0739198e144a959251ca08684ed8b5.png"
}
```

## query
描述：用户给一个查询，根据表格的latex文本，回答用户的问题

请求：
```
curl -X 'POST' \
  'http://[240c:c983:4::3:1f1e]:8611/api/query' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "latex": "\\begin{tabular}{|c|l|r|r|r|r|r|r|} \\multicolumn{8}{c}{} \\\\ \\cline{2-8} & \\multicolumn{1}{c|}{\\multirow{2}{*}{Method}} & \\multicolumn{2}{c|}{Multi-Xscience} & \\multicolumn{2}{c|}{TAD} & \\multicolumn{2}{c|}{TAS2} \\\\ \\cline{3-8} & & ROUGE-1 & ROUGE-2 & ROUGE-1 & ROUGE-2 & ROUGE-1 & ROUGE-2 \\\\ \\hline \\multirow{5}{*}{Graphs} & LexRank (2004) & 30.19 & 5.53 & 27.29 & 3.50 & 27.04 & 3.18 \\\\ \\cline{2-8} & TexRank (2004) & 31.51 & 5.83 & 26.80 & 3.61 & 26.19 & 3.14 \\\\ \\cline{2-8} & HeterSumGraph (2020) & 31.36 & 5.82 & 27.85 & 3.88 & 27.56 & 3.62 \\\\ \\cline{2-8} & GraphSum (2020) & 29.58 & 5.54 & 26.12 & 4.03 & 25.01 & 3.23 \\\\ \\cline{2-8} & TAG (2022) & 33.45 & 7.06 & 30.48 & 6.16 & 28.04 & 4.75 \\\\ \\cline{2-8} & KGSum (2022) & 35.77 & 7.51 & 32.38 & 5.19 & 30.67 & 4.76 \\\\ \\hline \\multirow{9}{*}{PLMs} & Pointer-Generator (2017) & 34.11 & 6.76 & 31.70 & 6.41 & 28.53 & 4.96 \\\\ \\cline{2-8} & BertABS (2019) & 31.56 & 5.02 & 27.42 & 4.88 & 25.45 & 3.82 \\\\ \\cline{2-8} & SciBertABS (2019) & 32.12 & 5.59 & 27.88 & 5.19 & 26.01 & 4.13 \\\\ \\cline{2-8} & HiMAP (2019) & 31.66 & 5.91 & 30.49 & 6.21 & 28.37 & 5.07 \\\\ \\cline{2-8} & BART (2020) & 32.83 & 6.36 & 25.39 & 4.74 & 27.73 & 4.80 \\\\ \\cline{2-8} & MGSum (2020) & 33.11 & 6.75 & 27.49 & 4.79 & 25.54 & 3.75 \\\\ \\cline{2-8} & PRIMERA (2022) & 31.90 & 7.40 & 32.04 & 5.78 & 29.99 & 5.07 \\\\ \\cline{2-8} & GPT-3.5-turbo (2023) & 31.11 & 7.38 & 30.77 & 4.78 & 26.97 & 4.14 \\\\ \\cline{2-8} & GPT-4 (2023) & 33.21 & 7.61 & 32.50 & 4.90 & 30.71 & 4.25 \\\\ \\cline{2-8} & 3A-COT (2024) & 23.65 & 4.85 & 23.02 & 3.73 & 22.65 & 3.43 \\\\ \\cline{2-8} & SumBlogger (2024) & 35.40 & 8.40 & 33.90 & 5.51 & 30.69 & 3.92 \\\\ \\cline{2-8} & Proposed & \\textbf{36.41} & \\textbf{8.78} & \\textbf{34.16} & \\textbf{6.22} & \\textbf{32.31} & \\textbf{5.36} \\\\ \\hline \\end{tabular}",
  "query": "本文提出的方法性能在个数据集上的均值是多少？"
}'
```

返回：
```
{
  "think": "\n\n好的，我现在需要回答用户的问题：“本文提出的方法性能在个数据集上的均值是多少？”首先，我需要仔细分析提供的表格数据，找出与“Proposed”方法相关的各个指标，然后计算它们的平均值。\n\n首先，表格的结构看起来有点复杂，但根据用户提供的文本，表格有多个列，分别对应不同的方法和不同的数据集。具体来说，表格的列分为Method、Multi-Xscience、TAD、TAS2三个数据集，每个数据集下又有ROUGE-1和ROUGE-2两个指标。因此，每个方法在每个数据集中有两个分数：ROUGE-1和ROUGE-2。\n\n用户的问题是要计算“Proposed”方法在所有数据集上的均值。这里的“均值”可能是指每个数据集的两个指标（ROUGE-1和ROUGE-2）的平均值，然后将这些数据集的平均值再取平均，或者可能是将所有数据集的所有指标直接取平均。需要明确这一点。\n\n首先，找到“Proposed”所在的行。根据表格，最后一行是“Proposed”，对应的数值是：\n\n- Multi-Xscience: ROUGE-1 = 36.41，ROUGE-2 = 8.78\n- TAD: ROUGE-1 = 34.16，ROUGE-2 = 6.22\n- TAS2: ROUGE-1 = 32.31，ROUGE-2 = 5.36\n\n接下来，需要确定如何计算均值。通常，在评估模型性能时，可能会对每个数据集单独计算ROUGE-1和ROUGE-2的平均值，然后将这些平均值再取平均，得到整体的均值。或者，可能直接将所有六个数值（三个数据集，每个两个指标）取平均。不过，更常见的做法是对每个数据集计算两个指标的平均，然后取这三个数据集的平均，这样每个数据集的贡献相等，而不会因为指标数量影响结果。\n\n例如，对于Multi-Xscience数据集，ROUGE-1和ROUGE-2的平均值是(36.41 + 8.78)/2 = 22.595。同样地，TAD的平均值是(34.16 + 6.22)/2 = 20.19，TAS2的平均值是(32.31 + 5.36)/2 = 18.835。然后，这三个数据集的平均值再取平均：(22.595 + 20.19 + 18.835)/3 ≈ (61.62)/3 ≈ 20.54。不过，这可能不是用户想要的答案，因为通常ROUGE分数在论文中可能以每个指标单独平均，或者作为整体评估。但需要确认用户的具体需求。\n\n但另一种可能性是，用户可能希望将每个数据集的两个指标相加后取平均，或者直接计算所有六个数值的平均值。例如，六个数值的总和是36.41 +8.78 +34.16 +6.22 +32.31 +5.36 = 36.41+8.78=45.19; 34.16+6.22=40.38; 32.31+5.36=37.67; 总和45.19+40.38=85.57+37.67=123.24。然后除以6，得到123.24/6=20.54。这和之前的结果一样。所以无论是先平均每个数据集再整体平均，还是直接所有数值平均，结果都是相同的，因为每个数据集有两个数值，总共有三个数据集，所以两种方法等价。\n\n不过，这里可能存在误解。例如，是否应该将每个数据集的两个指标视为同等重要，然后计算每个数据集的平均，再取这三个的平均？或者是否应该将所有六个数值直接平均？根据数学计算，这两种方法是等价的，因为每个数据集的两个数相加等于该数据集的平均乘以2，所以总和是3个数据集的平均之和乘以2，再除以6，等同于三个数据集的平均之和除以3。所以无论哪种方式，结果都是相同的。\n\n现在计算具体的数值：\n\n首先，计算每个数据集的ROUGE-1和ROUGE-2的平均值：\n\nMulti-Xscience: (36.41 + 8.78)/2 = 45.19/2 = 22.595\n\nTAD: (34.16 + 6.22)/2 = 40.38/2 = 20.19\n\nTAS2: (32.31 + 5.36)/2 = 37.67/2 = 18.835\n\n然后，这三个平均值的平均：(22.595 + 20.19 + 18.835)/3 = (61.62)/3 ≈ 20.54\n\n或者，直接计算所有六个数值的总和除以6：\n\n36.41 +8.78 +34.16 +6.22 +32.31 +5.36 = ?\n\n先分步计算：\n\n36.41 +8.78 = 45.19\n\n34.16 +6.22 = 40.38\n\n32.31 +5.36 = 37.67\n\n总和：45.19 +40.38 = 85.57 +37.67 = 123.24\n\n123.24 /6 = 20.54\n\n所以无论是哪种方法，结果都是20.54。不过，通常ROUGE分数在论文中可能以每个指标单独报告，但用户的问题并没有指定是每个指标的均值还是整体均值。不过问题中的“均值”可能指的是所有数据集上的平均，即每个数据集的两个指标的平均，然后整体平均，或者直接所有数值的平均。但根据计算，两种方法结果相同，所以答案是20.54。\n\n不过，需要检查是否有计算错误。例如，各个数值相加是否正确：\n\n36.41 +8.78 = 45.19\n\n34.16 +6.22 = 40.38\n\n32.31 +5.36 = 37.67\n\n总和：45.19 +40.38 = 85.57；85.57 +37.67 = 123.24。没错。\n\n123.24除以6确实是20.54。所以最终的均值是20.54。不过，可能需要四舍五入到两位小数，即20.54。或者根据表格中的数值精度，例如表格中的数值有的保留两位小数，有的保留一位，但Proposed行的数值都是两位小数。所以结果可以保留两位小数，即20.54。\n\n不过，用户的问题可能希望得到的是每个数据集的平均值，然后取平均，或者直接所有数值的平均。但无论如何，结果都是20.54。因此，答案应该是20.54。",
  "answer": "本文提出的方法（Proposed）在各数据集上的均值计算如下：\n\n1. **计算每个数据集的ROUGE-1和ROUGE-2的平均值**：\n   - **Multi-Xscience**: \\((36.41 + 8.78) / 2 = 22.595\\)\n   - **TAD**: \\((34.16 + 6.22) / 2 = 20.19\\)\n   - **TAS2**: \\((32.31 + 5.36) / 2 = 18.835\\)\n\n2. **计算所有数据集的均值**：\n   \\[\n   \\frac{22.595 + 20.19 + 18.835}{3} = \\frac{61.62}{3} \\approx 20.54\n   \\]\n\n**最终答案**：本文提出的方法在各数据集上的均值为 \\(\\boxed{20.54}\\)（ROUGE分数）。"
}
```